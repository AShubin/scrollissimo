!function(t,e,r){function i(t,e){if("object"==typeof t&&t.target){var i={};return i.property=t.property,i.from=t.from||0,i.to=t.to||0,i.prefix=t.prefix||"",i.suffix=t.suffix||"",i.duration=o._toPercents(t.duration)||0,i.target=t.target.jquery?t.target:r(t.target),"undefined"==typeof(i.start=o._toPercents(t.start))&&(i.start=e.end),i.queue=e,{animator:null,target:i.target,sourceParams:t,params:i,render:n.bind(this,i.start,i.duration,(t.func||function(t){this.css(i.property,i.prefix+(i.from+(i.to-i.from)*t)+i.suffix)}).bind(i.target)),recalc:function(t){t=t||r(document).height(),this.params.duration=o._toPercents(this.sourceParams.duration||"",t),"undefined"==typeof this.sourceParams.start&&(this.params.start=o._toPercents(this.sourceParams.start,t))},getIntersection:function(t,e){return o._getIntersection(this.params.start,this.params.start+this.params.duration,t,e)}}}}function n(t,e,r,i){var n=(i-t)/e;0>=n&&(n=0),n>=1&&(n=1),r(n)}var a,s,o={},u=0,h=[],m=[],c=r(t),f=r(e);!function(){var e,r=0,i=["ms","moz","webkit","o"],n=i.length,a=!(!t.performance||!t.performance.now);if(t.requestAnimationFrame)o._requestAnimationFrame=t.requestAnimationFrame.bind(t);else{for(e=0;n>e&&!t.requestAnimationFrame;e+=1)o._requestAnimationFrame=t[i[e]+"RequestAnimationFrame"]&&t[i[e]+"RequestAnimationFrame"].bind(t);o._requestAnimationFrame||(o._requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),a=t.setTimeout(function(){e(i+n)},n);return r=i+n,a}.bind(t))}if(!a){var s=o._requestAnimationFrame,u=+new Date;o._requestAnimationFrame=function(t,e){var r=function(e){var r=1e12>e?e:e-u;return t(r)};s(r,e)}}}(),o._getIntersection=function(t,e,r,i){var n,a,s=Math.min(r,i),o=Math.max(r,i),u=t,h=e;if(u>=s&&o>=u)n=u,a=Math.min(o,h);else if(o>=h&&h>=s)n=Math.max(s,u),a=Math.min(o,h);else{if(!(s>=u&&h>=o))return;n=s,a=o}return i>r?{from:n,to:a}:{from:a,to:n}},o._toPercents=function(t,e){return e=e||s||f.height(),"string"==typeof t?"%"===t.substr(-1,1)?parseFloat(t)/100:"px"===t.substr(-2,2)?parseFloat(t)/e:parseFloat(t)/e:isNaN(t)?void 0:t/e},function(t){t.Queue=function(e){this.start=0,this.end=0,!isNaN(e)&&(this.smoother=new t.Queue.Smoother(this,.001*e))},t.Queue.prototype=Array.prototype.slice.call(Array.prototype),t.Queue.prototype.add=function(t){if(!(t instanceof Array)){if("object"!=typeof t)return;t=[t]}return t.forEach(function(t){var e=i(t,this);e&&(this.push(e),this.end<e.params.start+e.params.duration&&(this.end=e.params.start+e.params.duration))}.bind(this)),this.sort(function(t,e){return t.params.start-e.params.start}),this.start=this[0]&&this[0].params.start||0,this},t.Queue.prototype.getIntersection=function(e,r){return t._getIntersection(this.start,this.end,e,r)},t.Queue.Smoother=function(t,e){this.status="idle",this.animateFrom=0,this.animateTo=0,this.maxSpeed=+e,this.queue=t},t.Queue.Smoother.prototype.render=function(t,e){this.queue.forEach(function(r){var i=r.getIntersection(t,e);i&&r.render(i.to)})},t.Queue.Smoother.prototype.step=function(){var e=this.animateTo-this.animateFrom;Math.abs(e)>this.maxSpeed?(this.render(this.animateFrom,this.animateFrom+=this.maxSpeed*(e>0?1:-1)),t._requestAnimationFrame(this.step.bind(this))):(this.render(this.animateFrom,this.animateTo),this.status="idle",this.animateFrom=this.animateTo)},t.Queue.Smoother.prototype.smooth=function(e,r){var i=this.queue.getIntersection(e,r);return i?(this.animateTo=i.to,"idle"===this.status&&(this.status="busy",t._requestAnimationFrame(this.step.bind(this))),this.id=t._requestAnimationFrame(this.step.bind(this)),this):void 0}}(o),o._render=function(t){m.forEach(function(e){e.forEach(function(e){e.render(t)})}),h.forEach(function(e){e.smoother.smooth(o.lastProgress,t)}),o.lastProgress=t}.bind(o),o.lastProgress=0,o._catch=function(t){var e=isNaN(t)?f.scrollTop():t,r=e/(s-a);this._render(r),u=e},o.add=function(t,e){var r;return t=t||[],r=new this.Queue(e).add(t),(e?h:m).push(r),r}.bind(o),o.knock=function(t){this._catch(t),isNaN(t)&&setTimeout(this._catch.bind(this),100)},c.resize(function(){a=c.height(),s=f.height(),m.forEach(function(t){t.forEach(function(t){t.recalc(s)})}),h.forEach(function(t){t.forEach(function(t){t.recalc(s)})})}),o.isTouchMode="ontouchstart"in t,f.ready(function(){s=f.height(),a=c.height()}),t.Scrollissimo=o}(window,document,jQuery);