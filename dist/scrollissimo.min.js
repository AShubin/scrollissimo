!function(t,e,r){function i(t,e,r,i){var n,a,o=Math.min(r,i),s=Math.max(r,i),u=t,h=e;if(u>=o&&s>=u)n=u,a=Math.min(s,h);else if(s>=h&&h>=o)n=Math.max(o,u),a=Math.min(s,h);else{if(!(o>=u&&h>=s))return;n=o,a=o}return i>r?{from:n,to:a}:{from:a,to:n}}function n(t,e){return e=e||u||p.height(),"string"==typeof t?"%"===t.substr(-1,1)?parseFloat(t)/100:"px"===t.substr(-2,2)?parseFloat(t)/e:parseFloat(t)/e:isNaN(t)?void 0:t/e}function a(t,e){if("object"==typeof t){var a={};return a.property=t.property,a.from=t.from||0,a.to=t.to||0,a.prefix=t.prefix||"",a.suffix=t.suffix||"",a.duration=n(t.duration)||0,a.target=t.target.jquery?t.target:r(t.target),"undefined"==typeof(a.start=n(t.start))&&(a.start=e.end),a.queue=e,{animator:null,target:a.target,sourceParams:t,params:a,render:o.bind(this,a.start,a.duration,(t.func||function(t){this.css(a.property,a.prefix+(a.from+(a.to-a.from)*t)+a.suffix)}).bind(a.target)),recalc:function(t){t=t||r(document).height(),this.params.duration=n(this.sourceParams.duration||"",t),"undefined"==typeof this.sourceParams.start&&(this.params.start=n(this.sourceParams.start,t))},getIntersection:function(t,e){return i(this.params.start,this.params.start+this.params.duration,t,e)}}}}function o(t,e,r,i){var n=(i-t)/e;0>=n&&(n=0),n>=1&&(n=1),r(n)}var s,u,h={},m=0,c=[],f=[],d=r(t),p=r(e);!function(){var e,r=0,i=["ms","moz","webkit","o"],n=i.length,a=!(!t.performance||!t.performance.now);if(t.requestAnimationFrame)h._requestAnimationFrame=t.requestAnimationFrame.bind(t);else{for(e=0;n>e&&!t.requestAnimationFrame;e+=1)h._requestAnimationFrame=t[i[e]+"RequestAnimationFrame"]&&t[i[e]+"RequestAnimationFrame"].bind(t);h._requestAnimationFrame||(h._requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),a=t.setTimeout(function(){e(i+n)},n);return r=i+n,a}.bind(t))}if(!a){var o=h._requestAnimationFrame,s=+new Date;h._requestAnimationFrame=function(t,e){var r=function(e){var r=1e12>e?e:e-s;return t(r)};o(r,e)}}}(),function(t){t.Queue=function(e){this.start=0,this.end=0,!isNaN(e)&&(this.smoother=new t.Queue.Smoother(this,.001*e))},t.Queue.prototype=Array.prototype.slice.call(Array.prototype),t.Queue.prototype.add=function(t){if(!(t instanceof Array)){if("object"!=typeof t)return;t=[t]}return t.forEach(function(t){var e=a(t,this);e&&(this.push(e),this.end<e.params.start+e.params.duration&&(this.end=e.params.start+e.params.duration))}.bind(this)),this.sort(function(t,e){return t.params.duration-e.params.duration}),this.start=this[0]&&this[0].params.start||0,this},t.Queue.prototype.getIntersection=function(t,e){return i(this.start,this.end,t,e)},t.Queue.Smoother=function(t,e){this.status="idle",this.animateFrom=0,this.animateTo=0,this.maxSpeed=+e,this.queue=t},t.Queue.Smoother.prototype.render=function(t,e){this.queue.forEach(function(r){var i=r.getIntersection(t,e);i&&r.render(i.to)})},t.Queue.Smoother.prototype.step=function(){var e=this.animateTo-this.animateFrom;Math.abs(e)>this.maxSpeed?(this.render(this.animateFrom,this.animateFrom+=this.maxSpeed*(e>0?1:-1)),t._requestAnimationFrame(this.step.bind(this))):(this.render(this.animateFrom,this.animateTo),this.status="idle",this.animateFrom=this.animateTo)},t.Queue.Smoother.prototype.smooth=function(e,r){var i=this.queue.getIntersection(e,r);return i?(this.animateTo=i.to,"idle"===this.status&&(this.status="busy",t._requestAnimationFrame(this.step.bind(this))),this.id=t._requestAnimationFrame(this.step.bind(this)),this):void 0}}(h),h._render=function(t){f.forEach(function(e){e.forEach(function(e){e.render(t)})}),c.forEach(function(e){e.smoother.smooth(h.lastProgress,t)}),h.lastProgress=t}.bind(h),h.lastProgress=0,h._catch=function(t){var e=isNaN(t)?p.scrollTop():t,r=e/(u-s);this._render(r),m=e},h.add=function(t,e){var r;return t=t||[],r=new this.Queue(e).add(t),(e?c:f).push(r),r}.bind(h),h.knock=function(t){this._catch(t),isNaN(t)&&setTimeout(this._catch.bind(this),100)},d.resize(function(){s=d.height(),u=p.height(),f.forEach(function(t){t.forEach(function(t){t.recalc(u)})}),c.forEach(function(t){t.forEach(function(t){t.recalc(u)})})}),h.isTouchMode="ontouchstart"in t,p.ready(function(){u=p.height(),s=d.height()}),t.Scrollissimo=h}(window,document,jQuery);