!function(t,e,r){function i(t,e){if("object"==typeof t&&t.target){var i={};return i.property=t.property,i.from=t.from||0,i.to=t.to||0,i.prefix=t.prefix||"",i.suffix=t.suffix||"",i.duration=a._toPercents(t.duration)||0,i.target=t.target.jquery?t.target:r(t.target),"undefined"==typeof(i.start=a._toPercents(t.start))&&(i.start=e.end),i.queue=e,{animator:null,target:i.target,sourceParams:t,params:i,render:s.bind(this,i.start,i.duration,(t.func||function(t){this.css(i.property,i.prefix+(i.from+(i.to-i.from)*t)+i.suffix)}).bind(i.target)),recalc:function(t){t=t||r(document).height(),this.params.duration=a._toPercents(this.sourceParams.duration||"",t),"undefined"==typeof this.sourceParams.start&&(this.params.start=a._toPercents(this.sourceParams.start,t))},getIntersection:function(t,e){return a._getIntersection(this.params.start,this.params.start+this.params.duration,t,e)}}}}function s(t,e,r,i){var s=(i-t)/e;0>=s&&(s=0),s>=1&&(s=1),r(s)}var n,o,a={},u=0,h=[],c=[],f=r(t),m=r(e);!function(){var e,r=["ms","moz","webkit","o"],i=r.length;if(t.requestAnimationFrame)t._rAF=t.requestAnimationFrame;else{for(e=0;i>e&&!t.requestAnimationFrame;e+=1)t._rAF=t[r[e]+"RequestAnimationFrame"]&&t[r[e]+"RequestAnimationFrame"];!t._rAF&&(t._rAF=function(e){return t.setTimeout(function(){e()},1e3/60)})}}(),a._getIntersection=function(t,e,r,i){var s,n,o=Math.min(r,i),a=Math.max(r,i),u=t,h=e;if(u>=o&&a>=u)s=u,n=Math.min(a,h);else if(a>=h&&h>=o)s=Math.max(o,u),n=Math.min(a,h);else{if(!(o>=u&&h>=a))return;s=o,n=a}return i>r?{from:s,to:n}:{from:n,to:s}},a._toPercents=function(t,e){return e=e||o||m.height(),"string"==typeof t?"%"===t.substr(-1,1)?parseFloat(t)/100:"px"===t.substr(-2,2)?parseFloat(t)/e:parseFloat(t)/e:isNaN(t)?void 0:t/e},function(e){e.Queue=function(t){this.start=0,this.end=0,!isNaN(t)&&(this.smoother=new e.Queue.Smoother(this,.001*t))},e.Queue.prototype=Array.prototype.slice.call(Array.prototype),e.Queue.prototype.add=function(t){if(!(t instanceof Array)){if("object"!=typeof t)return;t=[t]}return t.forEach(function(t){var e=i(t,this);e&&(this.push(e),this.end<e.params.start+e.params.duration&&(this.end=e.params.start+e.params.duration))}.bind(this)),this.sort(function(t,e){return t.params.start-e.params.start}),this.start=this[0]&&this[0].params.start||0,this},e.Queue.prototype.getIntersection=function(t,r){return e._getIntersection(this.start,this.end,t,r)},e.Queue.Smoother=function(t,e){this.status="idle",this.animateFrom=0,this.animateTo=0,this.maxSpeed=+e,this.queue=t},e.Queue.Smoother.prototype.render=function(t,e){this.queue.forEach(function(r){var i=r.getIntersection(t,e);i&&r.render(i.to)})},e.Queue.Smoother.prototype.step=function(){var e=this.animateTo-this.animateFrom;Math.abs(e)>this.maxSpeed?(this.render(this.animateFrom,this.animateFrom+=this.maxSpeed*(e>0?1:-1)),t._rAF(this.step.bind(this))):(this.render(this.animateFrom,this.animateTo),this.status="idle",this.animateFrom=this.animateTo)},e.Queue.Smoother.prototype.smooth=function(e,r){var i=this.queue.getIntersection(e,r);return i?(this.animateTo=i.to,"idle"===this.status&&(this.status="busy",t._rAF(this.step.bind(this))),this.id=t._rAF(this.step.bind(this)),this):void 0}}(a),a._render=function(t){c.forEach(function(e){e.forEach(function(e){e.render(t)})}),h.forEach(function(e){e.smoother.smooth(a.lastProgress,t)}),a.lastProgress=t}.bind(a),a.lastProgress=0,a._catch=function(t){var e=isNaN(t)?m.scrollTop():t,r=e/(o-n);this._render(r),u=e},a.add=function(t,e){var r;return t=t||[],r=new this.Queue(e).add(t),(e?h:c).push(r),r}.bind(a),a.knock=function(t){this._catch(t),isNaN(t)&&setTimeout(this._catch.bind(this),100)},f.resize(function(){n=f.height(),o=m.height(),c.forEach(function(t){t.forEach(function(t){t.recalc(o)})}),h.forEach(function(t){t.forEach(function(t){t.recalc(o)})})}),a.isTouchMode="ontouchstart"in t,m.ready(function(){o=m.height(),n=f.height()}),t.Scrollissimo=a}(window,document,jQuery);