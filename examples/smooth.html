<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8">
    <title>Scrollissimo</title>
    <script src="//yastatic.net/jquery/2.1.3/jquery.min.js"></script>

    <!--[if lt IE 9]>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.1.0/es5-shim.min.js"></script>
    <script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="styles.css" rel="stylesheet">
</head>
<body class="b-page">
    <section id="screen" class="screen screen_timeline">
        <div id="queue1" class="queue queue1">
            <div class="queue__completion"></div>
        </div>
        <div id="queue2" class="queue queue2">
            <div class="queue__completion"></div>
        </div>
        <div id="queue3" class="queue queue3">
            <div class="queue__completion"></div>
        </div>
        <div id="queue4" class="queue queue4">
            <div class="queue__completion"></div>
        </div>
        <div id="timelineIndicator" class="timeline-indicator">
            <div class="queue__completion"></div>
        </div>
    </section>

    <script src="../scrollissimo/lib/scrollissimo.js"></script>
    <script src="../scrollissimo/lib/scrollissimo.touch.js"></script>
    <script>
        $(document).ready(function(){
            var queue1 = $('#queue1 .queue__completion'),
                queue2 = $('#queue2 .queue__completion'),
                queue3 = $('#queue3 .queue__completion'),
                queue4 = $('#queue4 .queue__completion'),
                timelineIndicator = $('#timelineIndicator');

            Scrollissimo.add({
                target: queue1,
                property: 'width',
                prefix: '',
                from: 0,
                to: 100,
                suffix: '%',
                start: '0',
                duration: '2%'
            }, 1);

            Scrollissimo.add({
                target: queue2,
                property: 'width',
                prefix: '',
                from: 0,
                to: 100,
                suffix: '%',
                start: '7%',
                duration: '30%'
            }, 1);

            Scrollissimo.add({
                target: queue3,
                property: 'width',
                prefix: '',
                from: 0,
                to: 100,
                suffix: '%',
                start: '35%',
                duration: '16%'
            }, 1);

            Scrollissimo.add({
                target: queue4,
                property: 'width',
                prefix: '',
                from: 0,
                to: 100,
                suffix: '%',
                start: '50%',
                duration: '45%'
            }, 1);

            Scrollissimo.add({
                target: timelineIndicator,
                property: 'left',
                prefix: '',
                from: 0,
                to: 100,
                suffix: '%',
                start: '0',
                duration: '100%'
            });

            $(window).scroll(function(){
                Scrollissimo.knock();
            });
        });
    </script>
</body>
</html>